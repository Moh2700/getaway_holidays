<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Booking</title>
    <style>
      * {
        box-sizing: border-box;
        font-family: Arial, Helvetica, sans-serif;
      }
      body {
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        color: white;
        padding: 24px;
      }

      h1 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 40px;
      }
      .name-input {
        max-width: 400px;
        margin: 0 auto 40px;
      }
      .name-input input {
        width: 100%;
        padding: 14px;
        border-radius: 14px;
        border: none;
        font-size: 1rem;
        outline: none;
      }
      .gridEvents {
        display: grid;
        gap: 24px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }

      .card {
        background: white;
        color: #1f2937;
        border-radius: 20px;
        padding: 20px;
        box-shadow: 0 20px 30px rgba(0, 0, 0, 0.15);
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .card:hover {
        transform: translateY(-6px);
        box-shadow: 0 30px 40px rgba(0, 0, 0, 0.25);
      }
      .date {
        font-size: 0.85rem;
        color: #6b7280;
      }
      .seats {
        margin: 10px 0 16px;
        font-size: 0.9rem;
      }
      .cmdbutton {
        width: 30%;
        padding: 12px;
        border-radius: 14px;
        border: none;
        font-size: 1rem;
        font-weight: bold;
        cursor: pointer;
      }
      .book {
        background: #4f46e5;
        color: white;
      }
      .book:hover {
        background: #4338ca;
      }
      .sold {
        background: #d1d5db;
        cursor: not-allowed;
      }

      .bookings {
        max-width: 700px;
        margin: 60px auto 0;
        background: white;
        color: #1f2937;
        border-radius: 20px;
        padding: 24px;
        box-shadow: 0 20px 30px rgba(0, 0, 0, 0.2);
      }
      .bookings h3 {
        margin-top: 0;
      }
      .bookings li {
        padding: 8px 0;
        border-bottom: 1px solid #e5e7eb;
        list-style: none;
      }
    </style>
  </head>
  <body>
    <h1>üéüÔ∏è Event Booking</h1>

    <div class="name-input">
      <input id="username" placeholder="Your name" />
      <label>
        Event Title
        <input type="text" id="eventTitle" disabled />
      </label>
    </div>

    <div class="gridEvents" id="eventBookings"></div>

    <div class="bookings" id="bookings" style="display: none">
      <h3>‚úÖ Your Bookings</h3>
      <ul id="bookingList"></ul>
    </div>

    <script>
      const events = [
        { id: 1, name: "Tech Conference", date: "2025-02-15", seats: 50 },
        { id: 2, name: "Music Festival", date: "2025-03-10", seats: 120 },
        { id: 3, name: "Business Workshop", date: "2025-04-05", seats: 30 },
      ];

      const booked = [];
      const eventsContainer = document.getElementById("eventBookings");
      const bookingsBox = document.getElementById("bookings");
      const bookingList = document.getElementById("bookingList");

      function renderEvents() {
        eventsContainer.innerHTML = "";
        events.forEach((event) => {
          const card = document.createElement("div");
          card.className = "card";

          const btnClass = event.seats === 0 ? "sold" : "book";
          const btnText = event.seats === 0 ? "Sold Out" : "Book Now";

          card.innerHTML = `
          <h2>${event.name}</h2>
          <div class="date">üìÖ ${event.date}</div>
          <div class="seats">Seats left: ${event.seats}</div>
          <button  class="cmdbutton   ${btnClass}">${btnText}</button>
        `;

          const button = card.querySelector("button");
          if (event.seats > 0) {
            button.addEventListener("click", () => bookEvent(event.id));
          }

          eventsContainer.appendChild(card);
        });
      }

      function bookEvent(id) {
        const name = document.getElementById("username").value.trim();
        if (!name) {
          alert("Please enter your name");
          return;
        }

        const event = events.find((e) => e.id === id);
        if (!event || event.seats === 0) return;

        event.seats--;
        booked.push({ user: name, name: event.name, date: event.date });

        renderEvents();
        renderBookings();
      }

      function renderBookings() {
        bookingsBox.style.display = "block";
        bookingList.innerHTML = "";
        booked.forEach((b) => {
          const li = document.createElement("li");
          li.innerHTML = `<strong>${b.user}</strong> booked <strong>${b.name}</strong> (${b.date})`;
          bookingList.appendChild(li);
        });
      }

      renderEvents();
    </script>
  </body>
</html>
